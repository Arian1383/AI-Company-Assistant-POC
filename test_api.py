# test_api.py
import google.generativeai as genai
import os

# --- ูุฑุญูู ฑ: ฺฉูุฏ API ุฌุฏุฏ ุฎูุฏ ุฑุง ุงูุฌุง ูุฑุงุฑ ุฏูุฏ ---
# ุงู ฺฉูุฏ ุจุงุฏ ููุงู ฺฉูุฏ ุจุงุดุฏ ฺฉู ุฏุฑ create_index.py ุงุณุชูุงุฏู ฺฉุฑุฏุฏ.
GOOGLE_API_KEY = "AIzaSyBzAKJqZKdQQmkuVbPoA2AvLGqZ7uXjUhI"

# --- ุจุฑุฑุณ ุงููู ---
if GOOGLE_API_KEY == "AIzaSyBzAKJqZKdQQmkuVbPoA2AvLGqZ7uXjUhI":
    print("๐จ ุฎุทุง: ูุทูุงู ูุจู ุงุฒ ุงุฌุฑุงุ ฺฉูุฏ API ุฌุฏุฏ ุฎูุฏ ุฑุง ุฏุฑ ูุชุบุฑ GOOGLE_API_KEY ูุฑุงุฑ ุฏูุฏ.")
    exit()

try:
    # --- ูุฑุญูู ฒ: ูพฺฉุฑุจูุฏ API ุจุง ฺฉูุฏ ุดูุง ---
    print("โณ ุฏุฑ ุญุงู ุชูุธู ู ุชุณุช ฺฉูุฏ API...")
    genai.configure(api_key=GOOGLE_API_KEY)

    # --- ูุฑุญูู ณ: ุฏุฑุฎูุงุณุช ูุณุช ูุฏูโูุง ุงุฒ ฺฏูฺฏู ---
    # ุงู ฺฉ ุฏุฑุฎูุงุณุช ุณุงุฏู ุจุฑุง ุชุณุช ฺฉุฑุฏู ุงุฑุชุจุงุท ู ุงุนุชุจุงุฑ ฺฉูุฏ ุงุณุช.
    print("๐ก ุฏุฑ ุญุงู ุงุฑุณุงู ุฏุฑุฎูุงุณุช ุชุณุช ุจู ุณุฑูุฑูุง ฺฏูฺฏู...")
    
    model_list = [m for m in genai.list_models() if 'embedContent' in m.supported_generation_methods]
    
    # ุงฺฏุฑ ฺฉุฏ ุจู ุงูุฌุง ุจุฑุณุฏ ู ุฎุทุง ูุฏูุฏุ ุนู ฺฉูุฏ ุดูุง ูุนุชุจุฑ ุงุณุช.
    print("\nโโโ ุชุจุฑฺฉ! ฺฉูุฏ API ุดูุง ูุนุชุจุฑ ุงุณุช ู ุจุง ููููุช ฺฉุงุฑ ูโฺฉูุฏ.")
    print("ูุณุช ูุฏูโูุง Embedding ููุฌูุฏ:")
    for model in model_list:
        print(f"- {model.name}")

except Exception as e:
    print("\nโโโ ูุชุงุณูุงูู ุชุณุช ูุงูููู ุจูุฏ.")
    print("ุฎุทุง ุฏุฑุงูุช ุดุฏู ูุณุชููุงู ุงุฒ ุณุฑูุฑ ฺฏูฺฏู ุงุณุช:")
    print(f"\n--- ูุชู ุฎุทุง ---\n{e}\n-----------------")
    print("\n๐ก ุงู ุนู ูุดฺฉู ูุทุนุงู ุงุฒ ฺฉ ุงุฒ ููุงุฑุฏ ุฒุฑ ุงุณุช:")
    print("1. ฺฉูุฏ API ุจู ุฏุฑุณุช ฺฉูพ ูุดุฏู ุงุณุช.")
    print("2. ุณุฑูุณ 'Generative Language API' ุจุฑุง ูพุฑูฺู ุดูุง ุฏุฑ Google Cloud ูุนุงู ูุณุช.")
    print("3. ฺฉ ุญุณุงุจ ูพุฑุฏุงุฎุช (Billing Account) ุจู ูพุฑูฺู ุดูุง ูุชุตู ูุณุช.")
    print("4. ฺฉูุฏ ุดูุง ูุญุฏูุฏุชโูุง (Restrictions) ุฏุงุฑุฏ ฺฉู ุงุฌุงุฒู ุฏุณุชุฑุณ ุฑุง ููโุฏูุฏ.")

